(self.webpackChunkgo_mobile=self.webpackChunkgo_mobile||[]).push([[141],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=l(n),h=r,m=p["".concat(c,".").concat(h)]||p[h]||d[h]||s;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,o=new Array(s);o[0]=p;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var l=2;l<s;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5862:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return u},default:function(){return p}});var a=n(2122),r=n(9756),s=(n(7294),n(3905)),o=["components"],i={id:"events",title:"Events, methods and class functions"},c=void 0,l={unversionedId:"events",id:"events",isDocsHomePage:!1,title:"Events, methods and class functions",description:"Events",source:"@site/docs/events.md",sourceDirName:".",slug:"/events",permalink:"/4d-web-studio/docs/events",editUrl:"https://github.com/4d/go-mobile/edit/main/docs/events.md",version:"current",frontMatter:{id:"events",title:"Events, methods and class functions"},sidebar:"docs",previous:{title:"Datasources",permalink:"/4d-web-studio/docs/datasources"}},u=[{value:"Events",id:"events",children:[]},{value:"Triggering events",id:"triggering-events",children:[{value:"Example: Creating a search feature using the <code>onchange</code> event",id:"example-creating-a-search-feature-using-the-onchange-event",children:[]}]},{value:"4D class functions and project methods",id:"4d-class-functions-and-project-methods",children:[]},{value:"ORDA Classes",id:"orda-classes",children:[]},{value:"4D classes",id:"4d-classes",children:[]},{value:"Using project methods",id:"using-project-methods",children:[]},{value:"Events on datasources",id:"events-on-datasources",children:[{value:"Example",id:"example",children:[]}]}],d={toc:u};function p(e){var t=e.components,i=(0,r.Z)(e,o);return(0,s.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"events"},"Events"),(0,s.kt)("p",null,"Events are usually used as a means of triggering certain behaviors. They are used in conjunction with methods and class functions. "),(0,s.kt)("p",null,"For example, if the user clicks a button on a webpage, you can choose how to react.\nEvents can also be triggered when a datasource is updated. "),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"alt-text",src:n(8536).Z})),(0,s.kt)("p",null,"With 4D Web Studio, events are used to execute code on the 4D server."),(0,s.kt)("h2",{id:"triggering-events"},"Triggering events"),(0,s.kt)("p",null,"Events can be triggered: "),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"When certain actions are taken on your components "),(0,s.kt)("li",{parentName:"ul"},"When a webform is loaded"),(0,s.kt)("li",{parentName:"ul"},"When a datasource is updated on the client side")),(0,s.kt)("p",null,"You can map one class function to several events, or one event to several class functions. "),(0,s.kt)("p",null,"Events are executed in their defined order."),(0,s.kt)("h3",{id:"example-creating-a-search-feature-using-the-onchange-event"},"Example: Creating a search feature using the ",(0,s.kt)("inlineCode",{parentName:"h3"},"onchange")," event"),(0,s.kt)("p",null,"In the context of an application that displays information on courses and students, you want to allow end users to search for students by typing in a search box."),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"In the Webform Editor, go to the ",(0,s.kt)("strong",{parentName:"p"},"Data Sources")," section, create a local datasource and name it ",(0,s.kt)("inlineCode",{parentName:"p"},"student"),". ")),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"Create a ",(0,s.kt)("strong",{parentName:"p"},"Text input")," component, and assign the local datasource to it using the Properties Panel:"))),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"search",src:n(4250).Z})),(0,s.kt)("ol",{start:3},(0,s.kt)("li",{parentName:"ol"},"Create a class called Student that includes a function to perform a query and return the result in a variable:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-4d"},'\nClass extends DataClass\n\nexposed Function search($search : Text)->$result : cs.StudentsSelection\n    \n$search:="@"+$search+"@"\n    \n$result:=This.query("firstname = :1 or lastname = :1"; $search)\n    \n')),(0,s.kt)("ol",{start:4},(0,s.kt)("li",{parentName:"ol"},"Select the ",(0,s.kt)("strong",{parentName:"li"},"Input")," component and attach an ",(0,s.kt)("strong",{parentName:"li"},"onchange")," event to it. The event must call the search function and update the datasource ",(0,s.kt)("inlineCode",{parentName:"li"},"student")," previously created:")),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"search",src:n(2925).Z})),(0,s.kt)("h2",{id:"4d-class-functions-and-project-methods"},"4D class functions and project methods"),(0,s.kt)("h2",{id:"orda-classes"},"ORDA Classes"),(0,s.kt)("p",null,"The flow of data in the studio is handled through data model classes. See ",(0,s.kt)("a",{parentName:"p",href:"https://developer.4d.com/docs/en/ORDA/ordaClasses.html"},"ORDA classes")," for more information."),(0,s.kt)("h2",{id:"4d-classes"},"4D classes"),(0,s.kt)("p",null,"Some classes available only in the studio allow you to set the behavior of your components. They are instantiated using 4D commands."),(0,s.kt)("p",null,"For example, to display or hide a component when an event occurs, you can use the ",(0,s.kt)("a",{parentName:"p",href:"../API/WebFormItemClass.md"},"4D.WebFormItem class functions"),"."),(0,s.kt)("h2",{id:"using-project-methods"},"Using project methods"),(0,s.kt)("p",null,"We recommend using class functions over methods, but you can still use your project methods as REST functions in the studio."),(0,s.kt)("p",null,"To be used in 4D Web Studio, project methods must be defined as Datastore, Dataclass, Entity or Entity selection class functions. "),(0,s.kt)("p",null,"To check if a method is available as REST function: "),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"In the Explorer of your 4D application, ",(0,s.kt)("strong",{parentName:"li"},"right-click a project method")," > ",(0,s.kt)("strong",{parentName:"li"},"Edit Properties...")," to open the Method Properties dialog. "),(0,s.kt)("li",{parentName:"ol"},"Check that the ",(0,s.kt)("strong",{parentName:"li"},"REST Server")," option is checked.")),(0,s.kt)("p",null,"Selecting ",(0,s.kt)("strong",{parentName:"p"},"Scope")," > ",(0,s.kt)("strong",{parentName:"p"},"Catalog")," designates the project method as a function of the Datastore class. No table (dataclass) is assigned in this case."),(0,s.kt)("h2",{id:"events-on-datasources"},"Events on datasources"),(0,s.kt)("p",null,"You can attach an event to a datasource to perform an action when the datasource is updated on the client side."),(0,s.kt)("h3",{id:"example"},"Example"),(0,s.kt)("p",null,"Say you have a datatable with the ",(0,s.kt)("inlineCode",{parentName:"p"},"employees")," datasource attached. You want this datatable to only display the first three employees after the end-user clicks a button:"))}p.isMDXComponent=!0},8536:function(e,t,n){"use strict";t.Z=n.p+"assets/images/events-590cabd56176ba246a32e577ad912c88.png"},4250:function(e,t,n){"use strict";t.Z=n.p+"assets/images/search-component-9af0abbbabae896c0f082a6a00b3fd2c.png"},2925:function(e,t,n){"use strict";t.Z=n.p+"assets/images/search-event-b7ad7dd1256ecc0e2f502150cf008222.png"}}]);